<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Flashcard Group Picker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0e1a33;
      display: flex;
      justify-content: center;
      padding: 40px;
      color: #e3e9ff;
    }

    .container {
      width: 450px;
    }

    h1 {
      text-align: center;
      color: #aac3ff;
      margin-bottom: 20px;
      font-weight: 600;
    }

    textarea {
      width: 100%;
      height: 150px;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #3f5b99;
      resize: none;
      font-size: 14px;
      background: #162447;
      color: #e3e9ff;
    }

    button {
      width: 100%;
      padding: 12px;
      margin-top: 12px;
      border: none;
      border-radius: 8px;
      background: #1b3c8e;
      color: white;
      font-size: 16px;
      cursor: pointer;
      transition: 0.2s;
    }

    button:hover {
      background: #163170;
    }

    .card-wrapper {
      position: relative;
      margin-top: 25px;
      display: none;
    }

    #card {
      background: #1a2646;
      padding: 30px;
      border-radius: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.55);
      font-size: 22px;
      font-weight: 500;
      color: #dfe5ff;
      min-height: 100px;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.25s ease, transform 0.25s ease;
      white-space: pre-wrap;
      text-align: center;
    }

    .arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: #1b3c8e;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 22px;
      user-select: none;
      transition: 0.2s;
    }

    .arrow:hover {
      background: #163170;
    }

    .left-arrow {
      left: -55px;
    }

    .right-arrow {
      right: -55px;
    }

    #resetBtn {
      display: none;
      margin-top: 18px;
      background: #0f2047;
    }

    #resetBtn:hover {
      background: #0b1837;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Flashcard Group Picker</h1>

    <textarea id="inputArea" placeholder="Enter groups like this:

Item A
Item A2
Item A3

Item B
Item B2"></textarea>

    <button onclick="start()">Pick Random Flashcard</button>

    <div class="card-wrapper" id="wrapper">
      <div class="arrow left-arrow" onclick="move(-1)">&#10094;</div>

      <div id="card"></div>

      <div class="arrow right-arrow" onclick="move(1)">&#10095;</div>
    </div>

    <button id="resetBtn" onclick="resetAll()">Reset</button>
  </div>

  <script>
    let currentGroup = [];
    let currentIndex = 0;

    function animateCard() {
      const card = document.getElementById("card");
      card.style.display = "block";
      setTimeout(() => {
        card.style.opacity = "1";
        card.style.transform = "translateY(0px)";
      }, 20);
    }

    function start() {
      const raw = document.getElementById("inputArea").value.trim();
      if (!raw) return;

      const groups = raw.split(/\n\s*\n/).map(g =>
        g.trim().split("\n").map(item => item.trim())
      );

      currentGroup = groups[Math.floor(Math.random() * groups.length)];
      currentIndex = Math.floor(Math.random() * currentGroup.length);

      updateCard();
      document.getElementById("wrapper").style.display = "block";
      document.getElementById("resetBtn").style.display = "block";
    }

    function updateCard() {
      const card = document.getElementById("card");
      card.style.opacity = "0";
      card.style.transform = "translateY(10px)";

      setTimeout(() => {
        card.innerText = currentGroup[currentIndex];
        animateCard();
      }, 180);
    }

    function move(direction) {
      currentIndex = (currentIndex + direction + currentGroup.length) % currentGroup.length;
      updateCard();
    }

    function resetAll() {
      currentGroup = [];
      currentIndex = 0;

      const wrapper = document.getElementById("wrapper");
      const card = document.getElementById("card");

      card.style.opacity = "0";
      card.style.transform = "translateY(10px)";

      setTimeout(() => {
        wrapper.style.display = "none";
        document.getElementById("resetBtn").style.display = "none";
      }, 200);
    }
  </script>
</body>
</html>